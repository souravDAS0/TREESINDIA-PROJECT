import React from "react";
import type { SocialButtonProps, SocialProvider } from "./SocialButton.types";

const SocialButton: React.FC<SocialButtonProps> = ({
  provider,
  children,
  size = "md",
  fullWidth = false,
  disabled = false,
  loading = false,
  className = "",
  ...rest
}) => {
  const getProviderIcon = (providerName: SocialProvider) => {
    switch (providerName) {
      case "google":
        return (
          <svg
            viewBox="0 0 24 24"
            width="18"
            height="18"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g transform="matrix(1, 0, 0, 1, 27.009001, -39.238998)">
              <path
                fill="#4285F4"
                d="M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"
              />
              <path
                fill="#34A853"
                d="M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"
              />
              <path
                fill="#FBBC05"
                d="M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"
              />
              <path
                fill="#EA4335"
                d="M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"
              />
            </g>
          </svg>
        );
      case "facebook":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.19795 21.5H13.198V13.4901H16.8021L17.198 9.50977H13.198V7.5C13.198 6.94772 13.6457 6.5 14.198 6.5H17.198V2.5H14.198C11.4365 2.5 9.19795 4.73858 9.19795 7.5V9.50977H7.19795L6.80206 13.4901H9.19795V21.5Z"
              fill="#1877F2"
            />
          </svg>
        );
      case "twitter":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22 5.79997C21.2483 6.12606 20.4534 6.34163 19.64 6.43997C20.4982 5.92729 21.1413 5.12075 21.45 4.16997C20.6436 4.65003 19.7608 4.98824 18.84 5.16997C18.2245 4.50254 17.405 4.05826 16.5098 3.90682C15.6145 3.75537 14.6947 3.90532 13.8938 4.33315C13.093 4.76099 12.4569 5.4425 12.0852 6.2708C11.7135 7.09911 11.6273 8.02736 11.84 8.90997C10.2094 8.82749 8.61444 8.40292 7.15865 7.66384C5.70287 6.92476 4.41885 5.88742 3.39 4.61997C3.02914 5.25013 2.83952 5.96379 2.84 6.68997C2.83872 7.36435 3.00424 8.02858 3.32176 8.62353C3.63928 9.21848 4.09902 9.72568 4.66 10.1C4.00798 10.0822 3.36989 9.90726 2.8 9.58997V9.63997C2.80489 10.5849 3.13599 11.4991 3.73731 12.2279C4.33864 12.9568 5.17326 13.4556 6.1 13.64C5.74326 13.7485 5.37288 13.8058 5 13.81C4.74189 13.807 4.48442 13.7835 4.23 13.74C4.49391 14.5528 5.00462 15.2631 5.69107 15.7721C6.37753 16.2811 7.20558 16.5635 8.06 16.58C6.6172 17.7294 4.83588 18.3411 3 18.34C2.66574 18.3411 2.33174 18.321 2 18.28C3.87443 19.4902 6.05881 20.1329 8.29 20.13C9.82969 20.1462 11.3571 19.8552 12.7831 19.2732C14.2091 18.6912 15.505 17.8311 16.5952 16.7424C17.6854 15.6537 18.5473 14.359 19.1314 12.9338C19.7155 11.5086 20.0088 9.98163 19.995 8.44197C19.995 8.27197 19.995 8.09997 19.975 7.92997C20.7946 7.33478 21.4962 6.61739 22.045 5.80997L22 5.79997Z"
              fill="#1DA1F2"
            />
          </svg>
        );
      case "github":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2C6.477 2 2 6.477 2 12C2 16.419 4.865 20.167 8.84 21.488C9.34 21.581 9.523 21.278 9.523 21.012C9.523 20.774 9.513 19.988 9.51 19.151C6.73 19.792 6.139 17.891 6.139 17.891C5.685 16.721 5.026 16.417 5.026 16.417C4.132 15.776 5.094 15.788 5.094 15.788C6.086 15.86 6.626 16.841 6.626 16.841C7.521 18.367 8.969 17.939 9.542 17.681C9.632 17.028 9.895 16.601 10.181 16.359C7.955 16.117 5.62 15.307 5.62 11.501C5.62 10.386 6.01 9.466 6.646 8.738C6.542 8.485 6.197 7.519 6.747 6.147C6.747 6.147 7.587 5.878 9.498 7.17C10.300 6.9503 11.149 6.836 12 6.836C12.85 6.836 13.7 6.95 14.503 7.17C16.413 5.878 17.251 6.147 17.251 6.147C17.802 7.52 17.458 8.486 17.354 8.738C17.992 9.466 18.38 10.386 18.38 11.501C18.38 15.314 16.042 16.115 13.81 16.352C14.173 16.649 14.498 17.24 14.498 18.138C14.498 19.414 14.488 20.675 14.488 21.012C14.488 21.28 14.667 21.585 15.176 21.486C19.156 20.161 22 16.416 22 12C22 6.477 17.523 2 12 2Z"
              fill="#333333"
            />
          </svg>
        );
      case "apple":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.05 20.28C16.07 21.23 15 21.08 13.97 20.63C12.88 20.17 11.88 20.15 10.73 20.63C9.28998 21.25 8.52998 21.07 7.66998 20.28C2.78998 15.25 3.50998 7.59 9.04998 7.31C10.4 7.38 11.34 8.05 12.13 8.11C13.31 7.87 14.44 7.18 15.7 7.27C17.24 7.39 18.39 8.01 19.17 9.09C15.92 10.9 16.69 15.05 19.57 16.15C19 17.67 18.21 19.18 17.04 20.29L17.05 20.28ZM12.03 7.25C11.87 5.22 13.49 3.5 15.39 3.32C15.75 5.7 13.39 7.5 12.03 7.25Z"
              fill="black"
            />
          </svg>
        );
      case "microsoft":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M11.4 3H3V11.4H11.4V3Z" fill="#F25022" />
            <path d="M11.4 12.6H3V21H11.4V12.6Z" fill="#00A4EF" />
            <path d="M21 3H12.6V11.4H21V3Z" fill="#7FBA00" />
            <path d="M21 12.6H12.6V21H21V12.6Z" fill="#FFB900" />
          </svg>
        );
      case "linkedin":
        return (
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19 3H5C3.895 3 3 3.895 3 5V19C3 20.105 3.895 21 5 21H19C20.105 21 21 20.105 21 19V5C21 3.895 20.105 3 19 3ZM8.5 18.5H6V9.5H8.5V18.5ZM7.25 8.25C6.425 8.25 5.75 7.575 5.75 6.75C5.75 5.925 6.425 5.25 7.25 5.25C8.075 5.25 8.75 5.925 8.75 6.75C8.75 7.575 8.075 8.25 7.25 8.25ZM18.5 18.5H16V13.9C16 12.6 15.85 11.95 14.775 11.95C13.625 11.95 13.275 12.55 13.275 13.85V18.5H10.775V9.5H13.175V10.65C13.175 10.65 13.925 9.2 15.85 9.2C17.775 9.2 18.5 10.25 18.5 12.5V18.5Z"
              fill="#0A66C2"
            />
          </svg>
        );
      default:
        return null;
    }
  };

  const sizeClasses = {
    xs: "px-3 py-1.5 text-xs",
    sm: "px-3.5 py-2 text-sm",
    md: "px-4 py-2.5 text-base",
    lg: "px-5 py-3 text-base",
    xl: "px-6 py-3.5 text-lg",
  };

  const baseClasses = [
    "inline-flex items-center justify-center gap-3",
    "font-['Poppins'] font-medium",
    "rounded-lg transition-all duration-200",
    "bg-white text-gray-700 border border-gray-200 shadow-sm",
    "hover:bg-gray-50 active:bg-gray-100",
    sizeClasses[size],
    disabled || loading ? "opacity-60 cursor-not-allowed" : "",
    fullWidth ? "w-full" : "",
    className,
  ]
    .filter(Boolean)
    .join(" ");

  const defaultText =
    children ||
    `Continue with ${provider.charAt(0).toUpperCase() + provider.slice(1)}`;

  return (
    <button className={baseClasses} disabled={disabled || loading} {...rest}>
      {loading ? (
        <svg
          className="animate-spin -ml-1 mr-2 h-4 w-4 text-current"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            className="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            strokeWidth="4"
          />
          <path
            className="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          />
        </svg>
      ) : (
        getProviderIcon(provider)
      )}
      <span>{defaultText}</span>
    </button>
  );
};

export default SocialButton;
